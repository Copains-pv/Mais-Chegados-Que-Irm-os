<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Victoria's Secret Velvet Petals - Copains</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <!-- Google Fonts: Montserrat -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,700;1,700&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome para Ícones -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      xintegrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <style>
      :root {
        --primary-color: #ff6f61;
        --dark-color: #111111;
        --light-color: #ffffff;
        --text-color: #333;
        --gray-light: #f8f9fa;
      }

      body {
        font-family: "Montserrat", sans-serif;
        color: var(--text-color);
        background-color: var(--light-color);
        padding-top: 80px;
        /* Espaçamento para o cabeçalho fixo */
      }

      .header {
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        background-color: var(--light-color);
        height: 80px;
      }

      .header .logo {
        font-size: 1.8rem;
        font-weight: 700;
        font-style: italic;
        color: var(--dark-color);
      }

      .product-image {
        max-width: 100%;
        height: auto;
        border-radius: 12px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
      }

      .product-details h1 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        color: var(--dark-color);
      }

      .product-details h2 {
        font-size: 1.8rem;
        margin-bottom: 1rem;
        color: var(--primary-color);
      }

      /* Botão WhatsApp - Estilo Adicionado */
      .whatsapp-btn {
        background-color: #25D366; /* Verde WhatsApp */
        color: var(--light-color);
        border: none;
        text-decoration: none; /* Remove sublinhado do link */
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }

      .whatsapp-btn:hover {
        background-color: #128C7E; /* Verde mais escuro */
        color: var(--light-color);
      }

      .buy-now-btn {
        background-color: var(--primary-color);
        color: var(--light-color);
      }

      .buy-now-btn:hover {
        background-color: #e65a50;
      }

      .footer {
        background-color: var(--dark-color);
        color: var(--gray-light);
      }

      .footer-column h4 {
        color: var(--light-color);
      }

      .footer-column ul a {
        color: #ccc;
      }

      .social-icons a {
        color: #ccc;
      }

      .footer-bottom {
        border-top: 1px solid #444;
      }

      /* Estilos do Modal do Carrinho */
      .cart-modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.6);
        z-index: 1999;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
      }

      .cart-modal-overlay.active {
        opacity: 1;
        visibility: visible;
      }

      .cart-modal {
        position: fixed;
        top: 0;
        right: -100%;
        width: 100%;
        max-width: 400px;
        height: 100%;
        background-color: #ffffff;
        z-index: 2000;
        box-shadow: -5px 0 15px rgba(0, 0, 0, 0.15);
        transition: right 0.4s ease-in-out;
        display: flex;
        flex-direction: column;
      }

      .cart-modal.active {
        right: 0;
      }

      .cart-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1.5rem;
        border-bottom: 1px solid #eee;
      }

      .cart-close-btn {
        background: none;
        border: none;
        font-size: 1.8rem;
        cursor: pointer;
      }

      .cart-body {
        flex-grow: 1;
        overflow-y: auto;
        padding: 1rem;
      }
      .cart-item {
        display: flex;
        align-items: center;
        margin-bottom: 1rem;
        padding-bottom: 1rem;
        border-bottom: 1px solid #f0f0f0;
      }
      .cart-item img {
        width: 80px;
        height: 80px;
        object-fit: cover;
        border-radius: 5px;
        margin-right: 1rem;
      }
      .cart-item-info {
        flex-grow: 1;
      }
      .cart-item-info h4 {
        font-size: 1rem;
        margin-bottom: 0.5rem;
      }
      .cart-item-info p {
        font-size: 0.9rem;
        color: #666;
      }
      .cart-item-actions {
        display: flex;
        align-items: center;
        margin-top: 0.5rem;
      }
      .cart-item-actions button {
        background: #eee;
        border: none;
        padding: 0.3rem 0.6rem;
        cursor: pointer;
      }
      .cart-item-actions span {
        padding: 0 1rem;
        font-weight: 700;
      }
      .cart-footer {
        padding: 1.5rem;
        border-top: 1px solid #eee;
      }
      .cart-total {
        display: flex;
        justify-content: space-between;
        font-size: 1.2rem;
        font-weight: 700;
        margin-bottom: 1rem;
      }
      .checkout-btn {
        width: 100%;
      }
    </style>
  </head>

  <body>
    <!-- Cabeçalho (Header) -->
    <header class="header fixed-top">
      <div
        class="container d-flex justify-content-between align-items-center py-3"
      >
        <a href="index.html" class="logo text-decoration-none">Copains</a>
        <nav class="d-none d-md-flex">
          <ul class="nav nav-links gap-4">
            <li class="nav-item">
              <a class="nav-link text-dark" href="index_Logado.html">Início</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-dark" href="catalogo_de_produtos.html"
                >Produtos</a
              >
            </li>
             <li><a href="carrinho.html">carinho</a></li>
        </li>
            <li class="nav-item">
              <a class="nav-link text-dark" href="favoritos.html">Favoritos</a>
            </li>

            <li class="nav-item">
              <a
                class="nav-link text-dark open-cart-link"
                href="javascript:void(0);"
                >Carrinho</a
              >
            </li>

            <li class="nav-item">
              <a class="nav-link text-dark" href="index.html">Sair</a>
            </li>
          </ul>
        </nav>
        <div class="d-none d-md-flex gap-3 align-items-center">
          <a href="area_do_usuario.html" class="text-dark"
            ><i class="fas fa-user"></i
          ></a>

        </div>
        <button
          class="navbar-toggler d-md-none border-0"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="fas fa-bars fs-5"></span>
        </button>
      </div>
      <!-- Mobile menu -->
      <div class="collapse navbar-collapse d-md-none" id="navbarNav">
        <ul class="navbar-nav w-100 text-center">
          <li class="nav-item">
            <a class="nav-link" href="index_Logado.html">Início</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="carrinho.html">Carrinho</a>
          </li>
            <li class="nav-item">
            <a class="nav-link" href="catalogo_de_produtos.html">Produtos</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="favoritos.html">Favoritos</a>
          </li>
          
          </li>
          <li class="nav-item">
            <a class="nav-link" href="index.html">Sair</a>
          </li>
        </ul>
      </div>
    </header>

    <!-- Conteúdo Principal -->
    <main>
      <!-- Seção de Apresentação do Produto -->
      <section class="container mt-5 pt-5">
        <div class="row g-5 align-items-center">
          <!-- Lado esquerdo: Imagem do produto -->
          <div class="col-12 col-md-6 text-center">
            <!-- A imagem local foi substituída por um placeholder para garantir a visualização. Troque pelo caminho correto da sua imagem. -->
            <img
              src="hidratantr_vitoria_secret.webp"
              alt="Victoria's Secret Velvet Petals"
              class="product-image img-fluid"
            />
          </div>

          <!-- Lado direito: Detalhes do produto -->
          <div class="col-12 col-md-6">
            <div
              class="product-details"
              data-id="prod-vs-velvet"
              data-name="Victoria's Secret Velvet Petals"
              data-price="70.00"
              data-image="hidratantr_vitoria_secret2.jpg"
            >
              <h1 class="display-5">Victoria's Secret Velvet Petals</h1>
              <h2 class="text-primary fw-bold">R$ 70,00</h2>
              <p class="lead">
                O creme hidratante corporal
                <strong>Victoria's Secret Velvet Petals</strong> é uma mistura
                luxuosa e cremosa com uma fragrância inebriante de flor de
                veludo e amêndoas. Sua fórmula, enriquecida com manteiga de
                karité e manteiga de cacau, proporciona 24 horas de hidratação
                intensa, deixando a pele macia, suave e com um toque aveludado.
              </p>
              <ul class="list-unstyled">
                <li>
                  <i class="fas fa-check-circle me-2 text-success"></i> Aroma:
                  Flor de Veludo e Amêndoas
                </li>
                <li>
                  <i class="fas fa-check-circle me-2 text-success"></i>
                  Conteúdo: 236ml
                </li>
                <li>
                  <i class="fas fa-check-circle me-2 text-success"></i>
                  Hidratação: 24 horas
                </li>
                <li>
                  <i class="fas fa-check-circle me-2 text-success"></i> Textura:
                  Loção cremosa
                </li>
              </ul>

              <div class="d-grid gap-3 d-sm-flex">
                <!-- BOTÃO WHATSAPP MODIFICADO -->
                <a 
                    href="https://wa.me/552198092293" 
                    class="btn whatsapp-btn btn-lg rounded-pill"
                    target="_blank"
                >
                  <i class="fab fa-whatsapp me-2"></i> WhatsApp
                </a>
                
                <a
                  href="gateway_carrinho.html"
                  class="btn buy-now-btn btn-lg rounded-pill"
                >
                  <i class="fas fa-bolt me-2"></i> Comprar Agora
                </a>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Rodapé (Footer) -->
    <footer class="footer text-light py-5 mt-5">
      <div class="container">
        <div class="row g-4 mb-4">
          <div class="col-12 col-md-4 footer-column">
            <h4 class="mb-4">Categorias</h4>
            <ul class="list-unstyled">
              <li><a href="index_Logado.html">Inicio</a></li>
              <li><a href="catalogo_de_produtos.html">Produtos</a></li>
              <li><a href="carrinho.html">Carrinho</a></li>
              <li><a href="index.html">Sair</a></li>
            </ul>
          </div>
          <div class="col-12 col-md-4 footer-column">
            <h4>Links Úteis</h4>
            <ul class="list-unstyled">
              <li><a href="sobre_Nois.html">Sobre Nós</a></li>
              <li><a href="FAQ.html">FAQ</a></li>
              <li>
                <a href="Politicas_de_privacidade.html"
                  >Política de Privacidade</a
                >
              </li>
              <li><a href="Termos_de_Uso.html">Termos de Serviço</a></li>
            </ul>
          </div>
          <div class="col-12 col-md-4 footer-column">
            <h4>Fique Conectado</h4>
            <div class="social-icons">
              <a href="http://www.facebook.com/Copains Pv"
                ><i class="fab fa-facebook-f"></i
              ></a>
              <a href="http://www.instagram.com/Copains.pv"
                ><i class="fab fa-instagram"></i
              ></a>
              <a href="http://wa.me/552198092293"
                ><i class="fab fa-whatsapp"></i
              ></a>
            </div>
          </div>
        </div>
        <div class="footer-bottom">
          <p class="mb-0">&copy; 2024 Copains. Todos os direitos reservados.</p>
        </div>
      </div>
    </footer>

    <!-- ======================= -->
    <!-- MODAL DO CARRINHO       -->
    <!-- ======================= -->
    <div class="cart-modal-overlay" id="cart-modal-overlay">
      <div class="cart-modal" id="cart-modal">
        <div class="cart-header">
          <h3>Meu Carrinho</h3>
          <button class="cart-close-btn" id="cart-close-btn">&times;</button>
        </div>
        <div class="cart-body" id="cart-body">
          <!-- Itens do carrinho serão inseridos aqui via JS -->
        </div>
        <div class="cart-footer">
          <div class="cart-total">
            <span>Total:</span>
            <span id="cart-total">R$ 0,00</span>
          </div>
          <button class="cta-button checkout-btn w-100">
            Finalizar Compra
          </button>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      xintegrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <!-- Script Principal Centralizado. O 'defer' otimiza o carregamento da página. -->
    <script src="main.js" defer></script>
    <script src="https://sdk.mercadopago.com/js/v2"></script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const buyNowButton = document.querySelector(".buy-now-btn");

        if (buyNowButton) {
            buyNowButton.addEventListener("click", async () => {
                // 1. Coleta os dados do produto da página
                // O script procura o primeiro elemento com um atributo data-id dentro da seção de produto.
                const productContainer = document.querySelector(".product-section [data-id]") || document.querySelector(".product-details[data-id]");
                
                // VERIFICAÇÃO CRÍTICA: Se o container não for encontrado ou os dados estiverem faltando, o script falhará.
                if (!productContainer || !productContainer.dataset.name || !productContainer.dataset.price) {
                    console.error("Dados do produto faltando no HTML.");
                    alert("Erro: Não foi possível carregar os dados do produto.");
                    return;
                }

                const productName = productContainer.dataset.name;
                const productPrice = parseFloat(productContainer.dataset.price);

                buyNowButton.disabled = true;
                buyNowButton.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Aguarde...';

                // 2. Monta a preferência de pagamento
                const preference = {
                    items: [
                        {
                            title: productName,
                            quantity: 1,
                            currency_id: "BRL", 
                            unit_price: productPrice,
                        },
                    ],
                    // É recomendado ajustar essas URLs para lidar corretamente com a resposta do Mercado Pago
                    back_urls: {
                        success: window.location.href, 
                        failure: window.location.href,
                        pending: window.location.href,
                    },
                    auto_return: "approved", 
                };

                try {
                    // SUBSTITUA 'YOUR_PUBLIC_KEY' E 'YOUR_ACCESS_TOKEN' PELAS SUAS CREDENCIAIS
                    const mp = new MercadoPago("YOUR_PUBLIC_KEY");

                    // 3. Cria a preferência no Mercado Pago (INSEGURO NO FRONTEND)
                    const response = await fetch("https://api.mercadopago.com/checkout/preferences", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                            "Authorization": "Bearer YOUR_ACCESS_TOKEN" 
                        },
                        body: JSON.stringify(preference)
                    });
                    
                    const data = await response.json();
                    
                    // 4. Redireciona
                    window.location.href = data.init_point;

                } catch (error) {
                    console.error("Erro ao criar preferência de pagamento:", error);
                    alert("Ocorreu um erro ao iniciar o pagamento. Tente novamente.");
                    buyNowButton.disabled = false;
                    buyNowButton.innerHTML = '<i class="fas fa-bolt me-2"></i> Comprar Agora';
                }
            });
        }
    });
</script>
  </body>

</html>



